import { AxiosInstance } from 'axios';

export declare interface BedrockPassportIdInterface {
    user?: User;
    isLoggedIn: boolean;
    signIn: (provider: UserProvider, credentials?: EmailCredentials) => Promise<UserLoginDto | undefined>;
    loginCallback: (accessToken: string, refreshToken: string) => Promise<boolean>;
    signOut: () => void;
    accessToken?: string;
    getNonce: () => Promise<NonceDto | undefined>;
    verifyNonce: (message: unknown, signature: string) => Promise<UserLoginDto | undefined>;
    linkWallet: (message: unknown, signature: string) => Promise<UserLoginDto | undefined>;
    linkSocial: (provider: UserProvider) => void;
    errorWallet?: string;
    setErrorWallet: (data: string) => void;
    widgetText?: string;
    widgetUrl?: string;
    linkProfile: () => void;
    registerEmail: (email: string, password: string, passwordConfirm: string) => Promise<UserLoginDto | undefined>;
    getTokenReset: (email: string) => Promise<{
        code: number;
        status: string;
    }>;
    changePassword: (password: string, passwordConfirm: string, token: string) => void;
    getCurrency: () => Promise<ItemsList | undefined>;
    getItems: () => Promise<ItemsList | undefined>;
    currency?: ItemsList;
    apiClient: AxiosInstance;
}

export declare const BedrockPassportProvider: (props: Props) => JSX.Element;

declare interface EmailCredentials {
    email: string;
    password: string;
}

declare type FeatureConfig = Partial<FeatureFlags>;

declare interface FeatureFlags {
    enableWalletConnect: boolean;
    enableEmailLogin: boolean;
    enableGoogleLogin: boolean;
    enableAppleLogin: boolean;
    enableItemsDisplay: boolean;
    enableCurrencyDisplay: boolean;
    showProfileButton: boolean;
    showLogoutButton: boolean;
}

declare type Items = {
    Id: string;
    StackId: string;
    DisplayProperties: any;
    Amount: any;
    Type: string;
};

declare type ItemsList = {
    Items: Items[];
};

export declare const LoginPanel: ({ features, ...props }: LoginProps) => JSX.Element;

declare interface LoginProps {
    title?: string;
    logo?: string;
    logoAlt?: string;
    walletButtonText?: string;
    separatorText?: string;
    authTitle?: string;
    features?: FeatureConfig;
    panelClass?: string;
    headerClass?: string;
    titleClass?: string;
    logoClass?: string;
    buttonClass?: string;
    separatorClass?: string;
    separatorTextClass?: string;
    authTitleClass?: string;
    googleButtonClass?: string;
    appleButtonClass?: string;
    emailButtonClass?: string;
    walletButtonClass?: string;
    formClass?: string;
    inputClass?: string;
    errorClass?: string;
    successClass?: string;
    profileButtonClass?: string;
    logoutButtonClass?: string;
    linkRowClass?: string;
    walletRowClass?: string;
}

declare type NonceDto = {
    nonce: string;
};

declare interface Props {
    authCallbackUrl: string;
    baseUrl: string;
    children?: React.ReactNode;
    tenantId?: string;
    walletConnectId?: string;
    appName?: string;
    appDescription?: string;
    appUrl?: string;
    appIcon?: string;
    subscriptionKey?: string;
}

export declare const useBedrockPassport: () => BedrockPassportIdInterface;

export declare const useBedrockToken: () => {
    login: (accessToken: string, refreshToken: string) => Promise<void>;
    accessToken: () => string | undefined;
    refreshToken: () => string | undefined;
    setAccessToken: (accessToken: string) => void;
    setRefreshToken: (refreshToken: string) => void;
    logout: () => void;
};

export declare type User = {
    id: string;
    email: string;
    name: string;
    playfabId: string;
    playfabSessionTicket: string;
    photoUrl: string;
    ethAddress: string;
    waxAddress: string;
    lastLogin: Date;
    newsletter: boolean;
    creatorConsent: boolean;
    userConsent: boolean;
    role: UserRole;
    createdAt: Date;
    updatedAt: Date;
    avaturnId: string;
    emailVerified: boolean;
    provider: UserProvider;
};

export declare type UserLoginDto = {
    user: {
        id: string;
    };
    token: {
        accessToken: string;
        refreshToken: string;
    };
};

export declare enum UserProvider {
    APPLE = "APPLE",
    EMAIL = "EMAIL",
    GOOGLE = "GOOGLE",
    FACEBOOK = "FACEBOOK"
}

export declare enum UserRole {
    ADMIN = 0,
    USER = 1
}

export declare type Widget = {
    text: string;
    url: string;
};

export { }
